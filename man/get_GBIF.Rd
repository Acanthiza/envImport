% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_GBIF.r
\name{get_GBIF}
\alias{get_GBIF}
\title{Get new occurrence record set from GBIF and save as \code{.rds}}
\usage{
get_GBIF(
  taxon_key,
  aoi = NULL,
  min_year = NULL,
  ...,
  save_file = NULL,
  get_new = FALSE,
  request_wait = 20
)
}
\arguments{
\item{taxon_key}{Numeric The primary id number used in GBIF to id a species
(or some higher group). These are the id numbers found in the GBIF backbone
taxonomy. See
\href{https://discourse.gbif.org/t/understanding-gbif-taxonomic-keys-usagekey-taxonkey-specieskey/3045}{understanding GBIF taxonomic keys}}

\item{aoi}{sf defining area of interest. Will be converted to bounding box.}

\item{min_year}{Numeric. gbif data will be filtered to >= min_year}

\item{...}{Other arguments passed to \code{rgbif::occ_download}}

\item{save_file}{Character. File path into which to save outputs. If \code{null}
results will be saved to \verb{fs::path("out", "ds", "gbif", paste0(t"gbif_raw.rds")}.}

\item{get_new}{Logical. If \code{FALSE} will attempt to load data from previously
saved results.}

\item{request_wait}{Integer. Time in seconds to wait between
\code{rgbif::occ_download_meta()} requests. Used by \code{rgbif::occ_download_wait()}
\code{status_ping} argument.}

\item{return_results}{Logical. If true, results will be returned as a tibble
(as well as written to file). If false, results are only written to file.}
}
\value{
Dataframe, \code{save_file} with occurence records, \code{gbif_data_ref.bib}
(in the same directory as \code{save_file}) and full GBIF download.
}
\description{
GBIF is the
\href{https://www.gbif.org/}{Global Biodiversity Information Facility}.
}
\details{
Uses various \href{https://docs.ropensci.org/rgbif/index.html}{\code{rgbif}} functions
to return a dataframe of occurence records. Requires
\href{https://docs.ropensci.org/rgbif/articles/gbif_credentials.html}{gbif credentials}.
}
\examples{
\dontrun{
# Australian Bustard Ardeotis australis with year == 1901. Returns 7 records
# but can take a while to run depending on GBIF waiting times.
get_GBIF(taxon_key = 2474903, rgbif::pred("year", 1901))
}
}
